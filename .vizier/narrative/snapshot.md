# Snapshot

- Product: CLI "annals" will compress git histories into readable logs spanning days, weeks, months, and years, with LLM summarization layered on top once commit data is available. Default scope is account-level so a user can see a cross-repo diary without manual per-repo setup.
- Current surface: CLI now exposes `fetch-commits` (`src/main.rs`) that hits GitHub to gather commits for a login between a since/until window (RFC3339, date-only, or relative inputs), optionally filtering to a repo. It reads a PAT flag or `GITHUB_TOKEN`, lists repos based on auth (public-only when unauthenticated; owned/collab/org when the token matches the target login), dedupes and sorts commits (repo, sha, first-line message, timestamp, url, author/committer), and prints either human-readable lines or JSON; verbose mode shows pagination/progress, and auth/rate-limit errors bubble up with context.
- Active thread — gather commits for an account: Coverage now prefers GitHub’s commit search and falls back to paginated repo-by-repo scans when search is unavailable/incomplete/forbidden so we avoid missing days/weeks of work. Acceptance remains that, given a user plus window (and optional repo filter), annals returns the above commit fields and clearly reports auth/rate-limit/visibility issues to guide next steps.
- Upcoming: After commit ingestion works, layer LLM-driven compression that groups commits by day/week/month/year and emits human-readable logs.
